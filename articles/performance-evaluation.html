<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Performance Evaluation â€¢ finddataanalysis</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Performance Evaluation">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">finddataanalysis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/composite_reference.html">composite_reference</a></li>
    <li><a class="dropdown-item" href="../articles/concordance.html">Concordance</a></li>
    <li><a class="dropdown-item" href="../articles/dx_yield.html">dx_yield</a></li>
    <li><a class="dropdown-item" href="../articles/performance-evaluation.html">Performance Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/variablemanipulations.html">variablemanipulations</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="performance-evaluation_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="performance-evaluation_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="performance-evaluation_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="performance-evaluation_files/datatables-binding-0.33/datatables.js"></script><link href="performance-evaluation_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="performance-evaluation_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="performance-evaluation_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><script src="performance-evaluation_files/jszip-1.13.6/jszip.min.js"></script><script src="performance-evaluation_files/pdfmake-1.13.6/pdfmake.js"></script><script src="performance-evaluation_files/pdfmake-1.13.6/vfs_fonts.js"></script><link href="performance-evaluation_files/dt-ext-buttons-1.13.6/css/buttons.dataTables.min.css" rel="stylesheet">
<script src="performance-evaluation_files/dt-ext-buttons-1.13.6/js/dataTables.buttons.min.js"></script><script src="performance-evaluation_files/dt-ext-buttons-1.13.6/js/buttons.html5.min.js"></script><script src="performance-evaluation_files/dt-ext-buttons-1.13.6/js/buttons.colVis.min.js"></script><script src="performance-evaluation_files/dt-ext-buttons-1.13.6/js/buttons.print.min.js"></script><link href="performance-evaluation_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="performance-evaluation_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><script src="performance-evaluation_files/plotly-binding-4.10.4/plotly.js"></script><script src="performance-evaluation_files/typedarray-0.1/typedarray.min.js"></script><link href="performance-evaluation_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="performance-evaluation_files/plotly-main-2.11.1/plotly-latest.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Performance Evaluation</h1>
            
      

      <div class="d-none name"><code>performance-evaluation.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">finddataanalysis</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'ggplot2::last_plot' by 'plotly::last_plot'</span></span>
<span><span class="co">#&gt; when loading 'finddataanalysis'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'plotly::rename' by 'plyr::rename' when</span></span>
<span><span class="co">#&gt; loading 'finddataanalysis'</span></span></code></pre></div>
<!-- WARNING - This vignette is generated by {fusen} from /dev/flat_performance_evaluation.Rmd: do not edit by hand -->
<!--
 You need to run the 'description' chunk in the '0-dev_history.Rmd' file before continuing your code there.
-->
<div class="section level3">
<h3 id="sens_spe_for_forest">sens_spe_for_forest<a class="anchor" aria-label="anchor" href="#sens_spe_for_forest"></a>
</h3>
<p>Calculates sensitivity and specificity of a diagnostic test. Results
are formatted to generate forest plots.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gforge.se/packages/" class="external-link">forestplot</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: grid</span></span>
<span><span class="co">#&gt; Loading required package: checkmate</span></span>
<span><span class="co">#&gt; Loading required package: abind</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">forest_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>Test <span class="op">=</span> <span class="st">"Index"</span>, <span class="fu"><a href="../reference/sens_spe_for_forest.html">sens_spe_for_forest</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, index <span class="op">=</span> <span class="st">"Index"</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">forest_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/forestplot/man/forestplot.html" class="external-link">forestplot</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">Sensitivity</span>, </span>
<span>                          lower <span class="op">=</span> <span class="va">SensLower</span>, </span>
<span>                          upper <span class="op">=</span> <span class="va">SensUpper</span>, </span>
<span>                          labeltext <span class="op">=</span> <span class="va">Test</span>,</span>
<span>                          title <span class="op">=</span> <span class="st">"Sensitivity"</span>,</span>
<span>                          zero <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                          xticks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>                          txt_gp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/forestplot/man/fpTxtGp.html" class="external-link">fpTxtGp</a></span><span class="op">(</span>ticks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">gpar</a></span><span class="op">(</span>cex<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                          boxsize <span class="op">=</span> <span class="fl">.1</span></span>
<span>                          <span class="op">)</span></span></code></pre></div>
<p><img src="performance-evaluation_files/figure-html/example-sens_spe_for_forest-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="sens_spe">sens_spe<a class="anchor" aria-label="anchor" href="#sens_spe"></a>
</h3>
<p>Calculates sensitivity and specificity of a diagnostic test. Results
are formatted to generate a table to display.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/sens_spe.html">sens_spe</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, index <span class="op">=</span> <span class="st">"Index"</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span>
<span><span class="co">#&gt;    N TP FP FN TN Sensitivity Sensitivity [95%CI] Specificity</span></span>
<span><span class="co">#&gt; 1 40  5  5  5 25          50       [23.66-76.34]       83.33</span></span>
<span><span class="co">#&gt;   Specificity [95%CI] Balanced Accuracy B. Accuracy [95%CI] DOR DOR [95%CI] PPV</span></span>
<span><span class="co">#&gt; 1       [66.44-92.66]             66.66        [45.05-84.5]   5 [4.76-5.26]  50</span></span>
<span><span class="co">#&gt;     PPV [95%CI]   NPV   NPV [95%CI] Accuracy Accuracy [95%CI]</span></span>
<span><span class="co">#&gt; 1 [23.66-76.34] 83.33 [66.44-92.66]       75    [59.81-85.81]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ci_calc">CI_Calc<a class="anchor" aria-label="anchor" href="#ci_calc"></a>
</h3>
<p>Calculates the confidence interval of a given proportion with normal
approximation.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/CI_Calc.html">CI_Calc</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.05</span>, proportion<span class="op">=</span><span class="fl">0.62</span>, n<span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.0425</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multi_sen_spe">multi_sen_spe<a class="anchor" aria-label="anchor" href="#multi_sen_spe"></a>
</h3>
<p>To create a data frame that shows performance characteristics of
multiple tests.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">finddataanalysis</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, Index2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span>, Index3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">31</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/multi_sen_spe.html">multi_sen_spe</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, list_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span>, <span class="st">"Index3"</span><span class="op">)</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, index_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    N TP FP FN TN Sensitivity Sensitivity [95%CI] Specificity</span></span>
<span><span class="co">#&gt; a 40 10 10  0 20         100       [72.25-100.0]       66.67</span></span>
<span><span class="co">#&gt; b 40  5  0  5 30          50       [23.66-76.34]         100</span></span>
<span><span class="co">#&gt; c 40  9  0  1 30          90       [59.58-98.21]         100</span></span>
<span><span class="co">#&gt;   Specificity [95%CI] Balanced Accuracy B. Accuracy [95%CI] DOR DOR [95%CI] PPV</span></span>
<span><span class="co">#&gt; a       [48.78-80.77]             83.34       [60.52-90.38] Inf   [NaN-Inf]  50</span></span>
<span><span class="co">#&gt; b       [88.65-100.0]                75       [56.15-88.17] Inf   [NaN-Inf] 100</span></span>
<span><span class="co">#&gt; c       [88.65-100.0]                95        [74.11-99.1] Inf   [NaN-Inf] 100</span></span>
<span><span class="co">#&gt;     PPV [95%CI]   NPV   NPV [95%CI] Accuracy Accuracy [95%CI]</span></span>
<span><span class="co">#&gt; a [29.93-70.07]   100 [83.89-100.0]       75    [59.81-85.81]</span></span>
<span><span class="co">#&gt; b [56.55-100.0] 85.71 [70.62-93.74]     87.5    [73.89-94.54]</span></span>
<span><span class="co">#&gt; c [70.09-100.0] 96.77 [83.81-99.43]     97.5    [87.12-99.56]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multi_sen_spe_forest">multi_sen_spe_forest<a class="anchor" aria-label="anchor" href="#multi_sen_spe_forest"></a>
</h3>
<p>To create a data frame that is forest plot friendly with multiple
index tests</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, Index2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span>, Index3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">31</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/multi_sen_spe_forest.html">multi_sen_spe_forest</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, list_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span>, <span class="st">"Index3"</span><span class="op">)</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, index_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ate"</span>,<span class="st">"FNDH"</span>, <span class="st">"DXCb"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    N TP FP FN TN Sensitivity Specificity SensLower SensUpper SpeLower SpeUpper</span></span>
<span><span class="co">#&gt; 1 40 10 10  0 20         100       66.67     72.25    100.00    48.78    80.77</span></span>
<span><span class="co">#&gt; 2 40  5  0  5 30          50      100.00     23.66     76.34    88.65   100.00</span></span>
<span><span class="co">#&gt; 3 40  9  0  1 30          90      100.00     59.58     98.21    88.65   100.00</span></span>
<span><span class="co">#&gt;   Balanced_Accuracy BAlower BAupper DOR DORUpper DORLower PPV PPVLower PPVUpper</span></span>
<span><span class="co">#&gt; 1             83.34   60.52   90.38 Inf      Inf      NaN  50    29.93    70.07</span></span>
<span><span class="co">#&gt; 2             75.00   56.15   88.17 Inf      Inf      NaN 100    56.55   100.00</span></span>
<span><span class="co">#&gt; 3             95.00   74.11   99.10 Inf      Inf      NaN 100    70.09   100.00</span></span>
<span><span class="co">#&gt;      NPV NPVLower NPVUpper Accuracy ACCLower ACCUpper Test</span></span>
<span><span class="co">#&gt; 1 100.00    83.89   100.00     75.0    59.81    85.81  ate</span></span>
<span><span class="co">#&gt; 2  85.71    70.62    93.74     87.5    73.89    94.54 FNDH</span></span>
<span><span class="co">#&gt; 3  96.77    83.81    99.43     97.5    87.12    99.56 DXCb</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multi_sen_spe_dt_out">multi_sen_spe_dt_out<a class="anchor" aria-label="anchor" href="#multi_sen_spe_dt_out"></a>
</h3>
<p>Calculate performance characteristics and generate a nice table
output.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, Index2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span>, Index3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">31</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="../reference/multi_sen_spe_dt_out.html">multi_sen_spe_dt_out</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, list_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span>, <span class="st">"Index3"</span><span class="op">)</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, file_name <span class="op">=</span> <span class="st">"ZX001_performance"</span>, index_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["a","b","c"],["40","40","40"],["10","5","9"],["10","0","0"],["0","5","1"],["20","30","30"],["100","50","90"],["[72.25-100.0]","[23.66-76.34]","[59.58-98.21]"],["66.67","100","100"],["[48.78-80.77]","[88.65-100.0]","[88.65-100.0]"],["83.34","75","95"],["[60.52-90.38]","[56.15-88.17]","[74.11-99.1]"],["Inf","Inf","Inf"],["[NaN-Inf]","[NaN-Inf]","[NaN-Inf]"],["50","100","100"],["[29.93-70.07]","[56.55-100.0]","[70.09-100.0]"],["100","85.71","96.77"],["[83.89-100.0]","[70.62-93.74]","[83.81-99.43]"],["75","87.5","97.5"],["[59.81-85.81]","[73.89-94.54]","[87.12-99.56]"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>N<\/th>\n      <th>TP<\/th>\n      <th>FP<\/th>\n      <th>FN<\/th>\n      <th>TN<\/th>\n      <th>Sensitivity<\/th>\n      <th>Sensitivity [95%CI]<\/th>\n      <th>Specificity<\/th>\n      <th>Specificity [95%CI]<\/th>\n      <th>Balanced Accuracy<\/th>\n      <th>B. Accuracy [95%CI]<\/th>\n      <th>DOR<\/th>\n      <th>DOR [95%CI]<\/th>\n      <th>PPV<\/th>\n      <th>PPV [95%CI]<\/th>\n      <th>NPV<\/th>\n      <th>NPV [95%CI]<\/th>\n      <th>Accuracy<\/th>\n      <th>Accuracy [95%CI]<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Blfrtip","buttons":[{"extend":"copy","filename":"ZX001_performance"},{"extend":"csv","filename":"ZX001_performance"},{"extend":"excel","filename":"ZX001_performance"},{"extend":"pdf","filename":"ZX001_performance"}],"lengthMenu":[[10,-1],["10","All"]],"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"N","targets":1},{"name":"TP","targets":2},{"name":"FP","targets":3},{"name":"FN","targets":4},{"name":"TN","targets":5},{"name":"Sensitivity","targets":6},{"name":"Sensitivity [95%CI]","targets":7},{"name":"Specificity","targets":8},{"name":"Specificity [95%CI]","targets":9},{"name":"Balanced Accuracy","targets":10},{"name":"B. Accuracy [95%CI]","targets":11},{"name":"DOR","targets":12},{"name":"DOR [95%CI]","targets":13},{"name":"PPV","targets":14},{"name":"PPV [95%CI]","targets":15},{"name":"NPV","targets":16},{"name":"NPV [95%CI]","targets":17},{"name":"Accuracy","targets":18},{"name":"Accuracy [95%CI]","targets":19}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="multi_sen_spe_out_forest">multi_sen_spe_out_forest<a class="anchor" aria-label="anchor" href="#multi_sen_spe_out_forest"></a>
</h3>
<p>Calculate performance characteristics and generate a nice
forestplots.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, Index2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span>, Index3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">31</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multi_sen_spe_out_forest.html">multi_sen_spe_out_forest</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, list_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span>, <span class="st">"Index3"</span><span class="op">)</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, labels <span class="op">=</span> <span class="st">"Index Tests"</span>, index_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">plots</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"data":[{"x":[100,50,90],"y":[1,2,3],"text":["Test: a<br />Sensitivity: 100<br />SensLower: 72.25<br />SensUpper: 100.00","Test: b<br />Sensitivity:  50<br />SensLower: 23.66<br />SensUpper:  76.34","Test: c<br />Sensitivity:  90<br />SensLower: 59.58<br />SensUpper:  98.21"],"type":"scatter","mode":"lines+markers","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0,26.340000000000003,8.2099999999999937],"arrayminus":[27.75,26.34,30.420000000000002],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":7.559055118110237,"symbol":"square","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","frame":null}],"layout":{"margin":{"t":27.824636418824401,"r":7.3059360730593621,"b":41.778974318367787,"l":31.415525114155255},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0","20","40","60","80","100"],"tickvals":[0,20,40,60,80,100],"categoryorder":"array","categoryarray":["0","20","40","60","80","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Sensitivity (95% CI)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["a","b","c"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["a","b","c"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Index Tests","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1a873ec1e95":{"x":{},"y":{},"ymin":{},"ymax":{},"type":"scatter"},"1a87b05b0e4":{"x":{},"y":{},"ymin":{},"ymax":{}}},"cur_data":"1a873ec1e95","visdat":{"1a873ec1e95":["function (y) ","x"],"1a87b05b0e4":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plots</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"data":[{"x":[66.670000000000002,100,100],"y":[1,2,3],"text":["Test: a<br />Specificity:  66.67<br />SpeLower: 48.78<br />SpeUpper:  80.77","Test: b<br />Specificity: 100.00<br />SpeLower: 88.65<br />SpeUpper: 100.00","Test: c<br />Specificity: 100.00<br />SpeLower: 88.65<br />SpeUpper: 100.00"],"type":"scatter","mode":"lines+markers","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[14.099999999999994,0,0],"arrayminus":[17.890000000000001,11.350000000000009,11.350000000000009],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":7.559055118110237,"symbol":"square","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","frame":null}],"layout":{"margin":{"t":27.824636418824401,"r":7.3059360730593621,"b":41.778974318367787,"l":31.415525114155255},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0","20","40","60","80","100"],"tickvals":[0,20,40,60,80,100],"categoryorder":"array","categoryarray":["0","20","40","60","80","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Specificity (95% CI)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["a","b","c"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["a","b","c"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Index Tests","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1a877cabf4ed":{"x":{},"y":{},"ymin":{},"ymax":{},"type":"scatter"},"1a873599f919":{"x":{},"y":{},"ymin":{},"ymax":{}}},"cur_data":"1a877cabf4ed","visdat":{"1a877cabf4ed":["function (y) ","x"],"1a873599f919":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="performance_eval_auto">performance_eval_auto<a class="anchor" aria-label="anchor" href="#performance_eval_auto"></a>
</h2>
<p>Executes an automatized analysis of performance evaluation. The
function calculates sensitivity, specificity, balanced accuracy,
diagnostic odds ratio, negative and positive predictive values. It
generates downloadable tables and interactive graphs based on the
parameters that are entered. There are also options to get a simple,
unformatted version of the table containing the result. For long data, a
grouping variable needs to be defined. The column name feeds into dplyr
later on, and should be entered without quotation marks.<br>
For wide data column names containing index tests should be entered as a
list. The reference should always be in a separate column.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, Index2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span>, Index3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">31</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># All outputs</span></span>
<span><span class="va">eval_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/performance_eval_auto.html">performance_eval_auto</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, list_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span>, <span class="st">"Index3"</span><span class="op">)</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, index_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tgs1"</span>, <span class="st">"AFD"</span>, <span class="st">"SimpleDx"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="st">"Test"</span>, forest_plot <span class="op">=</span> <span class="cn">TRUE</span>, table_output <span class="op">=</span> <span class="cn">TRUE</span>, file_name <span class="op">=</span> <span class="st">"MyEvaluationExample"</span><span class="op">)</span></span>
<span><span class="va">eval_output</span><span class="op">$</span><span class="va">sen_plot</span> </span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"data":[{"x":[100,50,90],"y":[3,1,2],"text":["Test: Tgs1<br />Sensitivity: 100<br />SensLower: 72.25<br />SensUpper: 100.00","Test: AFD<br />Sensitivity:  50<br />SensLower: 23.66<br />SensUpper:  76.34","Test: SimpleDx<br />Sensitivity:  90<br />SensLower: 59.58<br />SensUpper:  98.21"],"type":"scatter","mode":"lines+markers","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0,26.340000000000003,8.2099999999999937],"arrayminus":[27.75,26.34,30.420000000000002],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":7.559055118110237,"symbol":"square","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","frame":null}],"layout":{"margin":{"t":27.824636418824401,"r":7.3059360730593621,"b":41.778974318367787,"l":72.32876712328769},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0","20","40","60","80","100"],"tickvals":[0,20,40,60,80,100],"categoryorder":"array","categoryarray":["0","20","40","60","80","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Sensitivity (95% CI)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["AFD","SimpleDx","Tgs1"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["AFD","SimpleDx","Tgs1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Test","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1a876ca57504":{"x":{},"y":{},"ymin":{},"ymax":{},"type":"scatter"},"1a87591f83c7":{"x":{},"y":{},"ymin":{},"ymax":{}}},"cur_data":"1a876ca57504","visdat":{"1a876ca57504":["function (y) ","x"],"1a87591f83c7":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval_output</span><span class="op">$</span><span class="va">spe_plot</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-1fb4450895fe099f74a1" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"data":[{"x":[66.670000000000002,100,100],"y":[3,1,2],"text":["Test: Tgs1<br />Specificity:  66.67<br />SpeLower: 48.78<br />SpeUpper:  80.77","Test: AFD<br />Specificity: 100.00<br />SpeLower: 88.65<br />SpeUpper: 100.00","Test: SimpleDx<br />Specificity: 100.00<br />SpeLower: 88.65<br />SpeUpper: 100.00"],"type":"scatter","mode":"lines+markers","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[14.099999999999994,0,0],"arrayminus":[17.890000000000001,11.350000000000009,11.350000000000009],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":7.559055118110237,"symbol":"square","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","frame":null}],"layout":{"margin":{"t":27.824636418824401,"r":7.3059360730593621,"b":41.778974318367787,"l":72.32876712328769},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0","20","40","60","80","100"],"tickvals":[0,20,40,60,80,100],"categoryorder":"array","categoryarray":["0","20","40","60","80","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Specificity (95% CI)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["AFD","SimpleDx","Tgs1"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["AFD","SimpleDx","Tgs1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Test","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1a874a76474":{"x":{},"y":{},"ymin":{},"ymax":{},"type":"scatter"},"1a873364818a":{"x":{},"y":{},"ymin":{},"ymax":{}}},"cur_data":"1a874a76474","visdat":{"1a874a76474":["function (y) ","x"],"1a873364818a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval_output</span><span class="op">$</span><span class="va">table</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-10b3b7155e8045a1b2ad" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["Tgs1","AFD","SimpleDx"],["40","40","40"],["10","5","9"],["10","0","0"],["0","5","1"],["20","30","30"],["100","50","90"],["[72.25-100.0]","[23.66-76.34]","[59.58-98.21]"],["66.67","100","100"],["[48.78-80.77]","[88.65-100.0]","[88.65-100.0]"],["83.34","75","95"],["[60.52-90.38]","[56.15-88.17]","[74.11-99.1]"],["Inf","Inf","Inf"],["[NaN-Inf]","[NaN-Inf]","[NaN-Inf]"],["50","100","100"],["[29.93-70.07]","[56.55-100.0]","[70.09-100.0]"],["100","85.71","96.77"],["[83.89-100.0]","[70.62-93.74]","[83.81-99.43]"],["75","87.5","97.5"],["[59.81-85.81]","[73.89-94.54]","[87.12-99.56]"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>N<\/th>\n      <th>TP<\/th>\n      <th>FP<\/th>\n      <th>FN<\/th>\n      <th>TN<\/th>\n      <th>Sensitivity<\/th>\n      <th>Sensitivity [95%CI]<\/th>\n      <th>Specificity<\/th>\n      <th>Specificity [95%CI]<\/th>\n      <th>Balanced Accuracy<\/th>\n      <th>B. Accuracy [95%CI]<\/th>\n      <th>DOR<\/th>\n      <th>DOR [95%CI]<\/th>\n      <th>PPV<\/th>\n      <th>PPV [95%CI]<\/th>\n      <th>NPV<\/th>\n      <th>NPV [95%CI]<\/th>\n      <th>Accuracy<\/th>\n      <th>Accuracy [95%CI]<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Blfrtip","buttons":[{"extend":"copy","filename":"MyEvaluationExample"},{"extend":"csv","filename":"MyEvaluationExample"},{"extend":"excel","filename":"MyEvaluationExample"},{"extend":"pdf","filename":"MyEvaluationExample"}],"lengthMenu":[[10,-1],["10","All"]],"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"N","targets":1},{"name":"TP","targets":2},{"name":"FP","targets":3},{"name":"FN","targets":4},{"name":"TN","targets":5},{"name":"Sensitivity","targets":6},{"name":"Sensitivity [95%CI]","targets":7},{"name":"Specificity","targets":8},{"name":"Specificity [95%CI]","targets":9},{"name":"Balanced Accuracy","targets":10},{"name":"B. Accuracy [95%CI]","targets":11},{"name":"DOR","targets":12},{"name":"DOR [95%CI]","targets":13},{"name":"PPV","targets":14},{"name":"PPV [95%CI]","targets":15},{"name":"NPV","targets":16},{"name":"NPV [95%CI]","targets":17},{"name":"Accuracy","targets":18},{"name":"Accuracy [95%CI]","targets":19}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Forest plot outputs</span></span>
<span><span class="va">eval_output_only_forest</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/performance_eval_auto.html">performance_eval_auto</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, list_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span>, <span class="st">"Index3"</span><span class="op">)</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, index_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tgs1"</span>, <span class="st">"AFD"</span>, <span class="st">"SimpleDx"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="st">"Test"</span>, forest_plot <span class="op">=</span> <span class="cn">TRUE</span>, table_output <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">eval_output_only_forest</span><span class="op">$</span><span class="va">sen_plot</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-4018eef1a407a0df6b52" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-4018eef1a407a0df6b52">{"x":{"data":[{"x":[100,50,90],"y":[3,1,2],"text":["Test: Tgs1<br />Sensitivity: 100<br />SensLower: 72.25<br />SensUpper: 100.00","Test: AFD<br />Sensitivity:  50<br />SensLower: 23.66<br />SensUpper:  76.34","Test: SimpleDx<br />Sensitivity:  90<br />SensLower: 59.58<br />SensUpper:  98.21"],"type":"scatter","mode":"lines+markers","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0,26.340000000000003,8.2099999999999937],"arrayminus":[27.75,26.34,30.420000000000002],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":7.559055118110237,"symbol":"square","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","frame":null}],"layout":{"margin":{"t":27.824636418824401,"r":7.3059360730593621,"b":41.778974318367787,"l":72.32876712328769},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0","20","40","60","80","100"],"tickvals":[0,20,40,60,80,100],"categoryorder":"array","categoryarray":["0","20","40","60","80","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Sensitivity (95% CI)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["AFD","SimpleDx","Tgs1"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["AFD","SimpleDx","Tgs1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Test","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1a8776beaecf":{"x":{},"y":{},"ymin":{},"ymax":{},"type":"scatter"},"1a8715d525af":{"x":{},"y":{},"ymin":{},"ymax":{}}},"cur_data":"1a8776beaecf","visdat":{"1a8776beaecf":["function (y) ","x"],"1a8715d525af":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval_output_only_forest</span><span class="op">$</span><span class="va">spe_plot</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-5b1b2f4ad92281566982" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"data":[{"x":[66.670000000000002,100,100],"y":[3,1,2],"text":["Test: Tgs1<br />Specificity:  66.67<br />SpeLower: 48.78<br />SpeUpper:  80.77","Test: AFD<br />Specificity: 100.00<br />SpeLower: 88.65<br />SpeUpper: 100.00","Test: SimpleDx<br />Specificity: 100.00<br />SpeLower: 88.65<br />SpeUpper: 100.00"],"type":"scatter","mode":"lines+markers","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[14.099999999999994,0,0],"arrayminus":[17.890000000000001,11.350000000000009,11.350000000000009],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":7.559055118110237,"symbol":"square","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","frame":null}],"layout":{"margin":{"t":27.824636418824401,"r":7.3059360730593621,"b":41.778974318367787,"l":72.32876712328769},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0","20","40","60","80","100"],"tickvals":[0,20,40,60,80,100],"categoryorder":"array","categoryarray":["0","20","40","60","80","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Specificity (95% CI)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["AFD","SimpleDx","Tgs1"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["AFD","SimpleDx","Tgs1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Test","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1a873ede5bcb":{"x":{},"y":{},"ymin":{},"ymax":{},"type":"scatter"},"1a872703d93c":{"x":{},"y":{},"ymin":{},"ymax":{}}},"cur_data":"1a873ede5bcb","visdat":{"1a873ede5bcb":["function (y) ","x"],"1a872703d93c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval_output_only_forest</span><span class="op">$</span><span class="va">table</span> <span class="co">#NULL</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="co"># A simple data frame output where the table is not formatted. This form is computer friendly.</span></span>
<span><span class="va">eval_output_simple_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/performance_eval_auto.html">performance_eval_auto</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">df</span>, list_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span>, <span class="st">"Index3"</span><span class="op">)</span>, ref <span class="op">=</span> <span class="st">"Reference"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, index_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tgs1"</span>, <span class="st">"AFD"</span>, <span class="st">"SimpleDx"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="st">"Test"</span>, forest_plot <span class="op">=</span> <span class="cn">FALSE</span>, table_output <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">eval_output_simple_df</span></span>
<span><span class="co">#&gt;    N TP FP FN TN Sensitivity Specificity SensLower SensUpper SpeLower SpeUpper</span></span>
<span><span class="co">#&gt; 1 40 10 10  0 20         100       66.67     72.25    100.00    48.78    80.77</span></span>
<span><span class="co">#&gt; 2 40  5  0  5 30          50      100.00     23.66     76.34    88.65   100.00</span></span>
<span><span class="co">#&gt; 3 40  9  0  1 30          90      100.00     59.58     98.21    88.65   100.00</span></span>
<span><span class="co">#&gt;   Balanced_Accuracy BAlower BAupper DOR DORUpper DORLower PPV PPVLower PPVUpper</span></span>
<span><span class="co">#&gt; 1             83.34   60.52   90.38 Inf      Inf      NaN  50    29.93    70.07</span></span>
<span><span class="co">#&gt; 2             75.00   56.15   88.17 Inf      Inf      NaN 100    56.55   100.00</span></span>
<span><span class="co">#&gt; 3             95.00   74.11   99.10 Inf      Inf      NaN 100    70.09   100.00</span></span>
<span><span class="co">#&gt;      NPV NPVLower NPVUpper Accuracy ACCLower ACCUpper     Test</span></span>
<span><span class="co">#&gt; 1 100.00    83.89   100.00     75.0    59.81    85.81     Tgs1</span></span>
<span><span class="co">#&gt; 2  85.71    70.62    93.74     87.5    73.89    94.54      AFD</span></span>
<span><span class="co">#&gt; 3  96.77    83.81    99.43     97.5    87.12    99.56 SimpleDx</span></span>
<span></span>
<span></span>
<span><span class="co"># Performance Evaluation by Groups</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">my_dataset</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">my_dataset</span><span class="op">)</span></span>
<span><span class="co">#&gt;         ID Test_Name   Result  RefTest</span></span>
<span><span class="co">#&gt; 1 01STUDID       ABC Negative Negative</span></span>
<span><span class="co">#&gt; 2 01STUDID       DST Negative Negative</span></span>
<span><span class="co">#&gt; 3 01STUDID       HCG Negative Negative</span></span>
<span><span class="co">#&gt; 4 01STUDID      LLJK Negative Negative</span></span>
<span><span class="co">#&gt; 5 01STUDID      ddfs Negative Negative</span></span>
<span><span class="co">#&gt; 6 01STUDID Weird Lab Negative Negative</span></span>
<span><span class="va">eval_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/performance_eval_auto.html">performance_eval_auto</a></span><span class="op">(</span>data_var <span class="op">=</span> <span class="va">my_dataset</span>, list_index <span class="op">=</span> <span class="st">"Result"</span>, ref <span class="op">=</span> <span class="st">"RefTest"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, labels <span class="op">=</span> <span class="st">"Test"</span>, forest_plot <span class="op">=</span> <span class="cn">FALSE</span>, table_output <span class="op">=</span> <span class="cn">TRUE</span>, file_name <span class="op">=</span> <span class="st">"MyEvaluationExample"</span>, data_long <span class="op">=</span> <span class="cn">TRUE</span>, group_var <span class="op">=</span> <span class="va">Test_Name</span> <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="compare_sen_spe">compare_sen_spe<a class="anchor" aria-label="anchor" href="#compare_sen_spe"></a>
</h2>
<p>Comparison of sensitivities or specificities between two independent
(i.e.Â unpaired) groups.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Tests <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Test1"</span>, <span class="st">"Test2"</span><span class="op">)</span>, TP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">82</span>, <span class="fl">140</span><span class="op">)</span>, FN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">60</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">result.df</span><span class="op">$</span><span class="va">N</span> <span class="op">&lt;-</span> <span class="va">result.df</span><span class="op">$</span><span class="va">TP</span> <span class="op">+</span><span class="va">result.df</span><span class="op">$</span><span class="va">FN</span></span>
<span><span class="va">result.df</span><span class="op">$</span><span class="va">sen</span> <span class="op">&lt;-</span> <span class="va">result.df</span><span class="op">$</span><span class="va">TP</span><span class="op">/</span><span class="va">result.df</span><span class="op">$</span><span class="va">N</span></span>
<span><span class="fu"><a href="../reference/compare_sen_spe.html">compare_sen_spe</a></span><span class="op">(</span>s1 <span class="op">=</span> <span class="va">result.df</span><span class="op">$</span><span class="va">sen</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, s2 <span class="op">=</span> <span class="va">result.df</span><span class="op">$</span><span class="va">sen</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, n1 <span class="op">=</span> <span class="va">result.df</span><span class="op">$</span><span class="va">N</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, n2 <span class="op">=</span> <span class="va">result.df</span><span class="op">$</span><span class="va">N</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,two.sided <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Statistic       Value</span></span>
<span><span class="co">#&gt; 1         Z -2.38761651</span></span>
<span><span class="co">#&gt; 2         P  0.01695803</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="nice_table">nice_table<a class="anchor" aria-label="anchor" href="#nice_table"></a>
</h2>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Index1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, Index2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span>, Index3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">31</span><span class="op">)</span><span class="op">)</span>, Reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Negative"</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>, Sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>,<span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sex_ana</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_map.html" class="external-link">group_modify</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="../reference/performance_eval_auto.html">performance_eval_auto</a></span><span class="op">(</span></span>
<span>  data_var <span class="op">=</span> <span class="op">(</span><span class="va">.x</span><span class="op">)</span>,</span>
<span>  list_index <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Index1"</span>, <span class="st">"Index2"</span><span class="op">)</span>,</span>
<span>  ref <span class="op">=</span> <span class="st">"Reference"</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  index_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  labels <span class="op">=</span> <span class="st">"Test"</span>,</span>
<span>  forest_plot <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co">#!!!</span></span>
<span>  table_output <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co">#!!!</span></span>
<span>  file_name <span class="op">=</span> <span class="st">"performance_eval"</span>,</span>
<span>  data_long <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co">#!!!</span></span>
<span>  group_var <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/nice_table.html">nice_table</a></span><span class="op">(</span><span class="va">sex_ana</span>, <span class="st">"Sex"</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-25c3e940e6859592f801" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-25c3e940e6859592f801">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4"],["Index1","Index2","Index1","Index2"],["F","F","M","M"],[20,20,20,20],[5,2,5,3],[5,0,5,0],[0,3,0,2],[10,15,10,15],[100,40,100,60],["[56.55-100.00]","[11.76- 76.93]","[56.55-100.00]","[23.07- 88.24]"],[66.67,100,66.67,100],["[41.71- 84.82]","[79.61-100.00]","[41.71- 84.82]","[79.61-100.00]"],[83.34,70,83.34,80],["[49.13-92.41]","[45.69-88.47]","[49.13-92.41]","[51.34-94.12]"],[null,null,null,null],["[NaN-Inf]","[NaN-Inf]","[NaN-Inf]","[NaN-Inf]"],["[23.66- 76.34]","[34.24-100.00]","[23.66- 76.34]","[43.85-100.00]"],[100,83.33,100,88.23999999999999],["[72.25-100.00]","[60.78- 94.16]","[72.25-100.00]","[65.66- 96.71]"],[75,85,75,90],["[53.13-88.81]","[63.96-94.76]","[53.13-88.81]","[69.90-97.21]"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Test<\/th>\n      <th>Group<\/th>\n      <th>N<\/th>\n      <th>TP<\/th>\n      <th>FP<\/th>\n      <th>FN<\/th>\n      <th>TN<\/th>\n      <th>Sensitivity<\/th>\n      <th>Sensitivity [95%CI]<\/th>\n      <th>Specificity<\/th>\n      <th>Specificity [95%CI]<\/th>\n      <th>Balanced Accuracy<\/th>\n      <th>B. Accuracy [95%CI]<\/th>\n      <th>DOR<\/th>\n      <th>DOR [95%CI]<\/th>\n      <th>PPV [95%CI]<\/th>\n      <th>NPV<\/th>\n      <th>NPV [95%CI]<\/th>\n      <th>Accuracy<\/th>\n      <th>Accuracy [95%CI]<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Blfrtip","buttons":[{"extend":"copy","filename":"subgroup.analysis"},{"extend":"csv","filename":"subgroup.analysis"},{"extend":"excel","filename":"subgroup.analysis"},{"extend":"pdf","filename":"subgroup.analysis"}],"lengthMenu":[[10,-1],["10","All"]],"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7,8,10,12,14,17,19]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Test","targets":1},{"name":"Group","targets":2},{"name":"N","targets":3},{"name":"TP","targets":4},{"name":"FP","targets":5},{"name":"FN","targets":6},{"name":"TN","targets":7},{"name":"Sensitivity","targets":8},{"name":"Sensitivity [95%CI]","targets":9},{"name":"Specificity","targets":10},{"name":"Specificity [95%CI]","targets":11},{"name":"Balanced Accuracy","targets":12},{"name":"B. Accuracy [95%CI]","targets":13},{"name":"DOR","targets":14},{"name":"DOR [95%CI]","targets":15},{"name":"PPV [95%CI]","targets":16},{"name":"NPV","targets":17},{"name":"NPV [95%CI]","targets":18},{"name":"Accuracy","targets":19},{"name":"Accuracy [95%CI]","targets":20}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Berra Erkosar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
